<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Contrôle d'Affichage</title>
  <style>
    body { width: 300px; padding: 15px; background-color: #1a1b26; color: #a9b1d6; font-family: 'Segoe UI', sans-serif; border-radius: 8px; border: 1px solid #414868; display: flex; flex-direction: column; }
    .switch-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px; background-color: #24283b; border-radius: 5px; }
    .switch-container label { color: #c0caf5; font-weight: 500; }
    .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #414868; transition: .4s; border-radius: 20px; }
    .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: #7aa2f7; }
    input:checked + .slider:before { transform: translateX(20px); }
    .control-group { margin-bottom: 12px; }
    .label-container { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
    .label-container span { color: #bb9af7; font-weight: 500; }
    .input-container { display: flex; align-items: center; gap: 10px; }
    input[type="range"] { flex-grow: 1; margin: 0; }
    input[type="number"] { width: 60px; background-color: #24283b; color: #c0caf5; border: 1px solid #414868; border-radius: 4px; padding: 5px; text-align: center; }
    #reset-button { background-color: #f7768e; color: #1a1b26; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; width: 100%; font-weight: bold; margin-top: 10px; }
    hr { border: none; border-top: 1px solid #414868; margin: 15px 0; }

    /* Tabs */
    .tabs-container { display: flex; margin-top: 15px; border-top: 1px solid #414868; padding-top: 10px; }
    .tab-button { flex: 1; padding: 8px 0; text-align: center; cursor: pointer; background-color: #24283b; border: 1px solid #414868; border-bottom: none; border-radius: 5px 5px 0 0; margin: 0 2px; color: #a9b1d6; font-weight: bold; }
    .tab-button:hover { background-color: #2a2e42; }
    .tab-button.active { background-color: #1a1b26; border-color: #7aa2f7; color: #7aa2f7; }
    .tab-content { display: none; padding-top: 10px; }
    .tab-content.active { display: block; }

    /* Presets */
    #preset-name-input { width: calc(100% - 70px); padding: 5px; background-color: #24283b; color: #c0caf5; border: 1px solid #414868; border-radius: 4px; margin-right: 5px; }
    #save-preset-button { width: 60px; background-color: #7aa2f7; color: #1a1b26; border: none; padding: 5px; border-radius: 4px; cursor: pointer; font-weight: bold; }
    #save-preset-button:hover { background-color: #6a92e7; }
    #presets-list { margin-top: 10px; max-height: 150px; overflow-y: auto; }
    .preset-item { display: flex; justify-content: space-between; align-items: center; padding: 8px; background-color: #24283b; border-radius: 5px; margin-bottom: 5px; }
    .preset-item span { color: #c0caf5; }
    .preset-actions button { background-color: #bb9af7; color: #1a1b26; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 0.8em; margin-left: 5px; }
    .preset-actions button:hover { background-color: #a98af0; }
    .preset-actions .delete-button { background-color: #f7768e; }
    .preset-actions .delete-button:hover { background-color: #e06c75; }
  </style>
</head>
<body>

  <div class="switch-container">
    <label for="global-enable">Activer l'extension</label>
    <label class="switch">
      <input type="checkbox" id="global-enable" checked>
      <span class="slider"></span>
    </label>
  </div>

  <div class="switch-container">
    <label for="site-enable">Activer pour ce site</label>
    <label class="switch">
      <input type="checkbox" id="site-enable" checked>
      <span class="slider"></span>
    </label>
  </div>

  <div class="switch-container">
    <label for="ambilight-enable">Activer Ambilight (Youtube)</label>
    <label class="switch">
      <input type="checkbox" id="ambilight-enable">
      <span class="slider"></span>
    </label>
  </div>

  <div class="control-group">
    <div class="label-container"><span>Cible des filtres</span></div>
    <button id="select-element-button">Sélectionner un élément</button>
    <p style="font-size: 0.8em; margin-top: 5px; color: #a9b1d6;">Cible : <span id="current-target-display">body</span></p>
  </div>

  <hr>

  <div id="tab-controls" class="tab-content active">
    <div id="controls-wrapper">
      <div class="control-group">
        <div class="label-container"><span>Saturation</span></div>
        <div class="input-container">
          <input type="range" id="saturation" min="0" max="400" value="100">
          <input type="number" id="saturation-input" min="0" max="400" value="100">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container"><span>Luminosité</span></div>
        <div class="input-container">
          <input type="range" id="brightness" min="0" max="200" value="100">
          <input type="number" id="brightness-input" min="0" max="200" value="100">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container"><span>Contraste</span></div>
        <div class="input-container">
          <input type="range" id="contrast" min="0" max="200" value="100">
          <input type="number" id="contrast-input" min="0" max="200" value="100">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container"><span>Inversion</span></div>
        <div class="input-container">
          <input type="range" id="invert" min="0" max="100" value="0">
          <input type="number" id="invert-input" min="0" max="100" value="0">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container"><span>Rotation de teinte</span></div>
        <div class="input-container">
          <input type="range" id="hue-rotate" min="0" max="360" value="0">
          <input type="number" id="hue-rotate-input" min="0" max="360" value="0">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container"><span>Filtre lumière bleue</span></div>
        <div class="input-container">
          <input type="range" id="blue-light-filter" min="0" max="100" value="0">
          <input type="number" id="blue-light-filter-input" min="0" max="100" value="0">
        </div>
      </div>

      <div class="control-group">
        <div class="label-container">
          <span>Filtre ND</span>
          <span id="nd-filter-display">Off</span>
        </div>
        <div class="input-container">
          <input type="range" id="nd-filter" min="0" max="3" value="0" step="1">
        </div>
      </div>

      <hr>

      <div class="switch-container">
        <label for="cpl-enable">Filtre Polarisant (CPL)</label>
        <label class="switch">
          <input type="checkbox" id="cpl-enable">
          <span class="slider"></span>
        </label>
      </div>

      <button id="reset-button">Réinitialiser pour ce site</button>
    </div>
  </div>

  <div id="tab-presets" class="tab-content">
    <h3>Mes Préréglages</h3>
    <div style="display: flex; margin-bottom: 10px;">
      <input type="text" id="preset-name-input" placeholder="Nom du préréglage">
      <button id="save-preset-button">Sauver</button>
    </div>
    <div id="presets-list"></div>
  </div>

  <div class="tabs-container">
    <button class="tab-button active" data-tab="tab-controls">Contrôles</button>
    <button class="tab-button" data-tab="tab-presets">Préréglages</button>
  </div>

  <script src="popup.js"></script>
</body>
</html>